{"ast":null,"code":"import _asyncToGenerator from \"C:/bitbucket/Nova pasta/AngularCBF/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../../apis/importarCBF.api\";\nexport class UploadTabelasComponent {\n  constructor(api) {\n    this.api = api;\n    this.arquivos = [];\n    this.enviando = false;\n    this.atualizandoStatus = false;\n    this.resultado = '';\n    this.existeChavesPendentes = false;\n    this.tipoResultado = '';\n\n    this.selecionarArquivo = file => {\n      this.arquivos = this.arquivos.concat(file);\n      return false;\n    };\n\n    this.removerArquivo = file => {\n      this.arquivos.splice(this.arquivos.indexOf(file), 1);\n      return false;\n    };\n  }\n\n  onFilechange(event) {\n    console.log(event.target.files[0]);\n    this.arquivos = event.target.files[0];\n  }\n\n  ngOnInit() {}\n\n  enviarArquivo() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.resultado = '';\n      _this.enviando = true;\n\n      try {\n        const resposta = yield _this.api.importarCBF(_this.arquivos);\n        _this.resultado = resposta;\n        _this.tipoResultado = 'success';\n      } catch (ex) {} finally {\n        _this.enviando = false;\n        _this.arquivos = [];\n      }\n    })();\n  }\n\n}\n\nUploadTabelasComponent.ɵfac = function UploadTabelasComponent_Factory(t) {\n  return new (t || UploadTabelasComponent)(i0.ɵɵdirectiveInject(i1.ImportarCBFApi));\n};\n\nUploadTabelasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UploadTabelasComponent,\n  selectors: [[\"app-administracao\"]],\n  decls: 6,\n  vars: 0,\n  consts: [[1, \"mb-3\"], [\"for\", \"formFile\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"formFile\", 1, \"form-control\", 3, \"change\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"click\"]],\n  template: function UploadTabelasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"label\", 1);\n      i0.ɵɵtext(2, \"Upload file example\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function UploadTabelasComponent_Template_input_change_3_listener($event) {\n        return ctx.onFilechange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function UploadTabelasComponent_Template_button_click_4_listener() {\n        return ctx.enviarArquivo();\n      });\n      i0.ɵɵtext(5, \"Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%] {\\n  margin: 0.5% 1% 0.5% 1%;\\n}\\n.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(n) {\\n  margin-top: 1%;\\n  margin-bottom: 1%;\\n}\\n.container-botoes[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFRhYmVsYXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtBQUNGO0FBQUU7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUFFTjtBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUFFRiIsImZpbGUiOiJ1cGxvYWRUYWJlbGFzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwLjUlIDElIDAuNSUgMSU7XHJcbiAgOm50aC1jaGlsZChuKSB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDElO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxJTtcclxuICB9XHJcbn1cclxuLmNvbnRhaW5lci1ib3RvZXMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/bitbucket/Nova pasta/AngularCBF/src/app/pages/menu/administracao/uploadTabelas/uploadTabelas.component.ts"],"names":["i0","i1","UploadTabelasComponent","constructor","api","arquivos","enviando","atualizandoStatus","resultado","existeChavesPendentes","tipoResultado","selecionarArquivo","file","concat","removerArquivo","splice","indexOf","onFilechange","event","console","log","target","files","ngOnInit","enviarArquivo","resposta","importarCBF","ex","ɵfac","UploadTabelasComponent_Factory","t","ɵɵdirectiveInject","ImportarCBFApi","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","UploadTabelasComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UploadTabelasComponent_Template_input_change_3_listener","$event","UploadTabelasComponent_Template_button_click_4_listener","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../../../../apis/importarCBF.api\";\r\nexport class UploadTabelasComponent {\r\n    constructor(api) {\r\n        this.api = api;\r\n        this.arquivos = [];\r\n        this.enviando = false;\r\n        this.atualizandoStatus = false;\r\n        this.resultado = '';\r\n        this.existeChavesPendentes = false;\r\n        this.tipoResultado = '';\r\n        this.selecionarArquivo = (file) => {\r\n            this.arquivos = this.arquivos.concat(file);\r\n            return false;\r\n        };\r\n        this.removerArquivo = (file) => {\r\n            this.arquivos.splice(this.arquivos.indexOf(file), 1);\r\n            return false;\r\n        };\r\n    }\r\n    onFilechange(event) {\r\n        console.log(event.target.files[0]);\r\n        this.arquivos = event.target.files[0];\r\n    }\r\n    ngOnInit() { }\r\n    async enviarArquivo() {\r\n        this.resultado = '';\r\n        this.enviando = true;\r\n        try {\r\n            const resposta = await this.api.importarCBF(this.arquivos);\r\n            this.resultado = resposta;\r\n            this.tipoResultado = 'success';\r\n        }\r\n        catch (ex) {\r\n        }\r\n        finally {\r\n            this.enviando = false;\r\n            this.arquivos = [];\r\n        }\r\n    }\r\n}\r\nUploadTabelasComponent.ɵfac = function UploadTabelasComponent_Factory(t) { return new (t || UploadTabelasComponent)(i0.ɵɵdirectiveInject(i1.ImportarCBFApi)); };\r\nUploadTabelasComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: UploadTabelasComponent, selectors: [[\"app-administracao\"]], decls: 6, vars: 0, consts: [[1, \"mb-3\"], [\"for\", \"formFile\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"formFile\", 1, \"form-control\", 3, \"change\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"click\"]], template: function UploadTabelasComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"label\", 1);\r\n        i0.ɵɵtext(2, \"Upload file example\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"input\", 2);\r\n        i0.ɵɵlistener(\"change\", function UploadTabelasComponent_Template_input_change_3_listener($event) { return ctx.onFilechange($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"button\", 3);\r\n        i0.ɵɵlistener(\"click\", function UploadTabelasComponent_Template_button_click_4_listener() { return ctx.enviarArquivo(); });\r\n        i0.ɵɵtext(5, \"Upload\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\".container[_ngcontent-%COMP%] {\\n  margin: 0.5% 1% 0.5% 1%;\\n}\\n.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(n) {\\n  margin-top: 1%;\\n  margin-bottom: 1%;\\n}\\n.container-botoes[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFRhYmVsYXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtBQUNGO0FBQUU7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUFFTjtBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUFFRiIsImZpbGUiOiJ1cGxvYWRUYWJlbGFzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwLjUlIDElIDAuNSUgMSU7XHJcbiAgOm50aC1jaGlsZChuKSB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDElO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxJTtcclxuICB9XHJcbn1cclxuLmNvbnRhaW5lci1ib3RvZXMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}