{"ast":null,"code":"import _asyncToGenerator from \"C:/bitbucket/Nova pasta/AngularCBF/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../../apis/importarCBF.api\";\nimport * as i2 from \"ng-zorro-antd/upload\";\nimport * as i3 from \"ng-zorro-antd/icon\";\nimport * as i4 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i5 from \"ng-zorro-antd/button\";\nimport * as i6 from \"ng-zorro-antd/core/wave\";\nexport class UploadTabelasComponent {\n  constructor(api) {\n    this.api = api;\n    this.arquivos = [];\n    this.enviando = false;\n    this.atualizandoStatus = false;\n    this.resultado = \"\";\n    this.existeChavesPendentes = false;\n    this.tipoResultado = \"\";\n\n    this.selecionarArquivo = file => {\n      this.arquivos = this.arquivos.concat(file);\n      return false;\n    };\n\n    this.removerArquivo = file => {\n      this.arquivos.splice(this.arquivos.indexOf(file), 1);\n      return false;\n    };\n  }\n\n  ngOnInit() {}\n\n  enviarArquivo() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.resultado = \"\";\n      _this.enviando = true;\n\n      try {\n        const resposta = yield _this.api.importarCBF(_this.arquivos);\n        _this.resultado = resposta;\n        _this.tipoResultado = \"success\";\n      } catch (ex) {} finally {\n        _this.enviando = false;\n        _this.arquivos = [];\n      }\n    })();\n  }\n\n}\n\nUploadTabelasComponent.ɵfac = function UploadTabelasComponent_Factory(t) {\n  return new (t || UploadTabelasComponent)(i0.ɵɵdirectiveInject(i1.ImportarCBFApi));\n};\n\nUploadTabelasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UploadTabelasComponent,\n  selectors: [[\"app-administracao\"]],\n  decls: 10,\n  vars: 7,\n  consts: [[\"nzType\", \"drag\", 3, \"nzMultiple\", \"nzAccept\", \"nzFileList\"], [1, \"ant-upload-drag-icon\"], [\"nz-icon\", \"\", \"nzType\", \"inbox\", 2, \"color\", \"black\"], [1, \"ant-upload-text\"], [1, \"ant-upload-hint\"], [1, \"container-botoes\"], [\"nz-button\", \"\", 1, \"botao-enviar\", 3, \"nzType\", \"nzLoading\", \"disabled\", \"click\"]],\n  template: function UploadTabelasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nz-upload\", 0);\n      i0.ɵɵelementStart(1, \"p\", 1);\n      i0.ɵɵelement(2, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\", 3);\n      i0.ɵɵtext(4, \"Clique ou arraste o arquivo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 4);\n      i0.ɵɵtext(6, \"S\\u00E3o suportados apenas arquivos .xls e .xlsx\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function UploadTabelasComponent_Template_button_click_8_listener() {\n        return ctx.enviarArquivo();\n      });\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"nzMultiple\", true)(\"nzAccept\", \".xls, .xlsx\")(\"nzFileList\", ctx.file);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"nzType\", \"primary\")(\"nzLoading\", ctx.enviando)(\"disabled\", ctx.arquivos.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.enviando ? \"Atualizando\" : \"Enviar\", \" \");\n    }\n  },\n  directives: [i2.NzUploadComponent, i3.NzIconDirective, i4.ɵNzTransitionPatchDirective, i5.NzButtonComponent, i6.NzWaveDirective],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  margin: 0.5% 1% 0.5% 1%;\\n}\\n.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(n) {\\n  margin-top: 1%;\\n  margin-bottom: 1%;\\n}\\n.container-botoes[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFRhYmVsYXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtBQUNGO0FBQUU7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUFFTjtBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUFFRiIsImZpbGUiOiJ1cGxvYWRUYWJlbGFzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwLjUlIDElIDAuNSUgMSU7XHJcbiAgOm50aC1jaGlsZChuKSB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDElO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxJTtcclxuICB9XHJcbn1cclxuLmNvbnRhaW5lci1ib3RvZXMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/bitbucket/Nova pasta/AngularCBF/src/app/pages/menu/administracao/uploadTabelas/uploadTabelas.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","UploadTabelasComponent","constructor","api","arquivos","enviando","atualizandoStatus","resultado","existeChavesPendentes","tipoResultado","selecionarArquivo","file","concat","removerArquivo","splice","indexOf","ngOnInit","enviarArquivo","resposta","importarCBF","ex","ɵfac","UploadTabelasComponent_Factory","t","ɵɵdirectiveInject","ImportarCBFApi","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","UploadTabelasComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","UploadTabelasComponent_Template_button_click_8_listener","ɵɵproperty","ɵɵadvance","length","ɵɵtextInterpolate1","directives","NzUploadComponent","NzIconDirective","ɵNzTransitionPatchDirective","NzButtonComponent","NzWaveDirective","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../../../../apis/importarCBF.api\";\r\nimport * as i2 from \"ng-zorro-antd/upload\";\r\nimport * as i3 from \"ng-zorro-antd/icon\";\r\nimport * as i4 from \"ng-zorro-antd/core/transition-patch\";\r\nimport * as i5 from \"ng-zorro-antd/button\";\r\nimport * as i6 from \"ng-zorro-antd/core/wave\";\r\nexport class UploadTabelasComponent {\r\n    constructor(api) {\r\n        this.api = api;\r\n        this.arquivos = [];\r\n        this.enviando = false;\r\n        this.atualizandoStatus = false;\r\n        this.resultado = \"\";\r\n        this.existeChavesPendentes = false;\r\n        this.tipoResultado = \"\";\r\n        this.selecionarArquivo = (file) => {\r\n            this.arquivos = this.arquivos.concat(file);\r\n            return false;\r\n        };\r\n        this.removerArquivo = (file) => {\r\n            this.arquivos.splice(this.arquivos.indexOf(file), 1);\r\n            return false;\r\n        };\r\n    }\r\n    ngOnInit() { }\r\n    async enviarArquivo() {\r\n        this.resultado = \"\";\r\n        this.enviando = true;\r\n        try {\r\n            const resposta = await this.api.importarCBF(this.arquivos);\r\n            this.resultado = resposta;\r\n            this.tipoResultado = \"success\";\r\n        }\r\n        catch (ex) {\r\n        }\r\n        finally {\r\n            this.enviando = false;\r\n            this.arquivos = [];\r\n        }\r\n    }\r\n}\r\nUploadTabelasComponent.ɵfac = function UploadTabelasComponent_Factory(t) { return new (t || UploadTabelasComponent)(i0.ɵɵdirectiveInject(i1.ImportarCBFApi)); };\r\nUploadTabelasComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: UploadTabelasComponent, selectors: [[\"app-administracao\"]], decls: 10, vars: 7, consts: [[\"nzType\", \"drag\", 3, \"nzMultiple\", \"nzAccept\", \"nzFileList\"], [1, \"ant-upload-drag-icon\"], [\"nz-icon\", \"\", \"nzType\", \"inbox\", 2, \"color\", \"black\"], [1, \"ant-upload-text\"], [1, \"ant-upload-hint\"], [1, \"container-botoes\"], [\"nz-button\", \"\", 1, \"botao-enviar\", 3, \"nzType\", \"nzLoading\", \"disabled\", \"click\"]], template: function UploadTabelasComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"nz-upload\", 0);\r\n        i0.ɵɵelementStart(1, \"p\", 1);\r\n        i0.ɵɵelement(2, \"i\", 2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"p\", 3);\r\n        i0.ɵɵtext(4, \"Clique ou arraste o arquivo\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"p\", 4);\r\n        i0.ɵɵtext(6, \"S\\u00E3o suportados apenas arquivos .xls e .xlsx\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 5);\r\n        i0.ɵɵelementStart(8, \"button\", 6);\r\n        i0.ɵɵlistener(\"click\", function UploadTabelasComponent_Template_button_click_8_listener() { return ctx.enviarArquivo(); });\r\n        i0.ɵɵtext(9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"nzMultiple\", true)(\"nzAccept\", \".xls, .xlsx\")(\"nzFileList\", ctx.file);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"nzType\", \"primary\")(\"nzLoading\", ctx.enviando)(\"disabled\", ctx.arquivos.length == 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.enviando ? \"Atualizando\" : \"Enviar\", \" \");\r\n    } }, directives: [i2.NzUploadComponent, i3.NzIconDirective, i4.ɵNzTransitionPatchDirective, i5.NzButtonComponent, i6.NzWaveDirective], styles: [\".container[_ngcontent-%COMP%] {\\n  margin: 0.5% 1% 0.5% 1%;\\n}\\n.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(n) {\\n  margin-top: 1%;\\n  margin-bottom: 1%;\\n}\\n.container-botoes[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFRhYmVsYXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtBQUNGO0FBQUU7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUFFTjtBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUFFRiIsImZpbGUiOiJ1cGxvYWRUYWJlbGFzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwLjUlIDElIDAuNSUgMSU7XHJcbiAgOm50aC1jaGlsZChuKSB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDElO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxJTtcclxuICB9XHJcbn1cclxuLmNvbnRhaW5lci1ib3RvZXMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}