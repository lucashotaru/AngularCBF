{"version":3,"file":"ng-zorro-antd-spin.js","sources":["../../components/spin/spin.component.ts","../../components/spin/spin.module.ts","../../components/spin/public-api.ts","../../components/spin/ng-zorro-antd-spin.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BehaviorSubject, ReplaySubject, Subject, timer } from 'rxjs';\nimport { debounce, distinctUntilChanged, startWith, switchMap, takeUntil } from 'rxjs/operators';\n\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { BooleanInput, NumberInput, NzSafeAny, NzSizeLDSType } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\n\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'spin';\n\n@Component({\n  selector: 'nz-spin',\n  exportAs: 'nzSpin',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <ng-template #defaultTemplate>\n      <span class=\"ant-spin-dot ant-spin-dot-spin\">\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n      </span>\n    </ng-template>\n    <div *ngIf=\"isLoading\">\n      <div\n        class=\"ant-spin\"\n        [class.ant-spin-rtl]=\"dir === 'rtl'\"\n        [class.ant-spin-spinning]=\"isLoading\"\n        [class.ant-spin-lg]=\"nzSize === 'large'\"\n        [class.ant-spin-sm]=\"nzSize === 'small'\"\n        [class.ant-spin-show-text]=\"nzTip\"\n      >\n        <ng-template [ngTemplateOutlet]=\"nzIndicator || defaultTemplate\"></ng-template>\n        <div class=\"ant-spin-text\" *ngIf=\"nzTip\">{{ nzTip }}</div>\n      </div>\n    </div>\n    <div *ngIf=\"!nzSimple\" class=\"ant-spin-container\" [class.ant-spin-blur]=\"isLoading\">\n      <ng-content></ng-content>\n    </div>\n  `,\n  host: {\n    '[class.ant-spin-nested-loading]': '!nzSimple'\n  }\n})\nexport class NzSpinComponent implements OnChanges, OnDestroy, OnInit {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n\n  static ngAcceptInputType_nzDelay: NumberInput;\n  static ngAcceptInputType_nzSimple: BooleanInput;\n  static ngAcceptInputType_nzSpinning: BooleanInput;\n\n  @Input() @WithConfig() nzIndicator: TemplateRef<NzSafeAny> | null = null;\n  @Input() nzSize: NzSizeLDSType = 'default';\n  @Input() nzTip: string | null = null;\n  @Input() @InputNumber() nzDelay = 0;\n  @Input() @InputBoolean() nzSimple = false;\n  @Input() @InputBoolean() nzSpinning = true;\n  private destroy$ = new Subject<void>();\n  private spinning$ = new BehaviorSubject(this.nzSpinning);\n  private delay$ = new ReplaySubject<number>(1);\n  isLoading = false;\n  dir: Direction = 'ltr';\n\n  constructor(\n    public nzConfigService: NzConfigService,\n    private cdr: ChangeDetectorRef,\n    @Optional() private directionality: Directionality\n  ) {}\n\n  ngOnInit(): void {\n    const loading$ = this.delay$.pipe(\n      startWith(this.nzDelay),\n      distinctUntilChanged(),\n      switchMap(delay => {\n        if (delay === 0) {\n          return this.spinning$;\n        }\n\n        return this.spinning$.pipe(debounce(spinning => timer(spinning ? delay : 0)));\n      }),\n      takeUntil(this.destroy$)\n    );\n    loading$.subscribe(loading => {\n      this.isLoading = loading;\n      this.cdr.markForCheck();\n    });\n    this.nzConfigService\n      .getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.cdr.markForCheck());\n\n    this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\n      this.dir = direction;\n      this.cdr.detectChanges();\n    });\n\n    this.dir = this.directionality.value;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzSpinning, nzDelay } = changes;\n    if (nzSpinning) {\n      this.spinning$.next(this.nzSpinning);\n    }\n    if (nzDelay) {\n      this.delay$.next(this.nzDelay);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzSpinComponent } from './spin.component';\n\n@NgModule({\n  exports: [NzSpinComponent],\n  declarations: [NzSpinComponent],\n  imports: [BidiModule, CommonModule, ObserversModule]\n})\nexport class NzSpinModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './spin.component';\nexport * from './spin.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}